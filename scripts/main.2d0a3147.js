var FastClick;FastClick.attach(document.body),$(function(){"use strict";function a(a){for(var b,c,d=a.length;0!==d;)c=Math.floor(Math.random()*d),d-=1,b=a[d],a[d]=a[c],a[c]=b;return a}function b(a){"show"===a?($("#card-container").removeClass().one(e,function(){$("#card-container").empty()}),$(".start-screen").hasClass("exit-left")&&$(".start-screen").removeClass("exit-left")):"hide"===a&&$(".start-screen").addClass("exit-left")}function c(){var a,b=document.createElement("fakeelement"),c={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in c)if(void 0!==b.style[a])return c[a]}function d(){var a,b=document.createElement("fakeelement"),c={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(a in c)if(void 0!==b.style[a])return c[a]}$(".md-trigger").on("click",function(){$(this).addClass("active"),$(".md-modal").addClass("md-show")}),$(".md-close").on("click",function(){$(".md-trigger").removeClass("active"),$(".md-modal").removeClass("md-show")}),$(".btn-beer").on("click",function(){$(this).addClass("loading"),$(".icon-beer").toggleClass("icon-beer icon-arrows-cw")}),b("show"),$(".btn-play").on("click",function(){var c="",d=1e3,e=$(this).attr("data-level"),g=parseInt(e);8===g?(c="easy",d*=4*e):18===g?(c="medium",d*=5*e):32===g&&(c="hard",d*=6*e),b("hide"),$("#card-container").addClass("on-screen "+c);var h,i=[];for(h=0;e>h;h++)i.push(h);var j=a($.merge(i,i)),k=100/Math.sqrt(j.length);for(h=0;h<j.length;h++){var l=j[h];10>l&&(l="0"+l),$('<div class="card" style="width:'+k+"%; height:"+k+'%;"><div class="flipper"><div class="front"></div><div class="back"><i class="icon icon-'+l+'" data-icon="'+l+'"></i></div></div></div>').appendTo("#card-container")}var m="flipped",n=$("#card-container"),o=$(".card"),p=2*g,q=!1;o.on("click",function(a){if(a.preventDefault(),q)return!1;$(this).addClass(m);var c=$(this).find(".icon").attr("data-icon");n.find(".card.flipped").length>1&&(q=!0,setTimeout(function(){var a=$(".card.flipped .icon[data-icon="+c+"]");a.length>1?(a.parents(".card").toggleClass("found flipped"),q=!1,$(".card.found").length===p&&b("show")):(q=!1,o.removeClass("flipped"))},400))}),$('<i class="timer"></i>').prependTo(n).css({animation:"timer "+d+"ms linear"}).one(f,function(){b("show")})});var e=c(),f=d();$(document).keyup(function(a){27===a.keyCode&&b("show")})});